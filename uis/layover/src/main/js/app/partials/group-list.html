<div class="container-fluid" ng-controller="GroupListCtl">
    <div class="control-panel">
        <div class="cp-row">
            <button ng-click="createNew()">New...</button>
            <button ng-click="hideAll()">Hide All</button>
        </div>
      <div class="cp-row">
        Search: <input ng-model="query" />
      </div>
      <!--
      <div class="sidebyside">
        Sort by:
        <select ng-model="orderProp">
          <option value="key">Name</option>
        </select>
      </div>
      -->
      <div class="cp-row cp-debug">
        <input type="checkbox" ng-model="enableDebug" ng-init="checked=false" /> Debug Data
      </div>
    </div>
    <div class="content-panel">
      <div class="store-listing">
        <div ng-repeat="store in listing.items | filter:query | orderBy:orderProp" class="list-item store-listing-item listing-item-start">
					<div class="fieldset-caption">
					    <a href="#/group/view/{{store.name}}">{{store.name}}</a>
					</div>
					<div class="fieldset">
					  <div class="two-col">
					    <div class="field left-half">
					      <label>Local URL:</label>
					      <a href="{{store.storeHref}}" target="_new">{{store.storeHref}}</a>
					    </div>
					    <div class="options-field field right-half">
                <div class="inline-label">
                  {{store.constituents.length}} Constituent(s) [
                  <!-- span class="option">
                    <a href="" ng-if="!store.display" ng-click="displayConstituents(store)">View</a>
                    <a href="" ng-if="store.display" ng-click="hideConstituents(store)">Hide</a>
                  </span -->
                  <span class="option">
                    <a href="" ng-if="!store.display" ng-click="displayConstituents(store)">+</a>
                    <a href="" ng-if="store.display" ng-click="hideConstituents(store)">-</a>
                  </span>
                  ]
                </div>
					      <ol ng-if="store.display" class="content-panel item-expanded subsection">
					        <li ng-repeat="item in store.constituents">
					          <a href="#/{{item.type}}/view/{{item.name}}">{{item.key}}</a>
					          <div ng-if="item.type == 'remote'" class="subfields">
					           <span class="description field">(Remote URL: <a target="_new" href="{{item.storeHref}}">{{item.storeHref}}</a>)</span>
					          </div>
					        </li>
					      </ol>
					    </div>
					  </div>
					  <div class="description field"><ap-listing-description></ap-listing-description></div>
					</div>
        </div>
      </div>
    </div>
    <div ng-if="enableDebug" class="debug">
      JSON:
      <pre>{{listing | json}}</pre>
    </div>
</div>
